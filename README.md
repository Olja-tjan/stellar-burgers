# Проектная работа "Stellar-burgers"

Сервис по заказу космических бургеров с личным кабинетом, онлайн оплатой, конструктором бургера и лентой заказов.

Стек: TS, React, Redux, HTML, CSS, Webpack, Cypress, Jest

[Макет](<https://www.figma.com/file/vIywAvqfkOIRWGOkfOnReY/React-Fullstack_-Проектные-задачи-(3-месяца)_external_link?type=design&node-id=0-1&mode=design>)

Страница конструктора бургера:
![Скриншот страницы конструктора бургера](/src/images/main_page.png)

Страница ленты заказов:
![Скриншот страницы ленты заказов](/src/images/order-feed_page.png)

Страница данных профиля и истории пользователя:
![Скриншот страницы личного кабинета](/src/images/personal-account_page.png)

Страница регистрации:
![Скриншот страницы регистрации](/src/images/registration_page.png)

Страница авторизации:
![Скриншот страницы авторизации](/src/images/authorization_page.png)

Страница восстановления пароля:
![Скриншот страницы восстановления пароля](/src/images/password-recovery_page.png)

## Установка и запуск
Для установки и запуска проекта необходимо выполнить команды
```
npm install
npm run start
```

или

```
yarn
yarn start
```

### Важно:

Для корректной работы запросов к серверу необходимо создать в корне файл с именем `.env`. В него следует копировать содержимое из файла `.env.example`.


## Сборка

```
npm run build
```

или

```
yarn build
```


## Реализованный функционал

Страница конструктора бургера:
- на странице отображается список ингредиентов загруженный с сервера;
- при клике на ингредиент открывается модальное окно с детальным описанием ингредиента;
- при нажатии кнопки «Добавить» ингредиента он добавляется в конструктор бургера;
- можно выбрать только один тип булки, булка отображается сразу в верхней и в нижней части создаваемого бургера. При добавлении другой булки она заменяет собой ранее добавленную;
- начинки и соусы при добавлении отображаются в центральной части создаваемого бургера;
- при клике на кнопку удаления ингредиента, он удаляется из конструктора бургера. Выбранную булку удалить нельзя, только заменить на другую;
- у добавленных в бургер ингредиентов отображается счётчик с количеством добавленных в бургер ингредиентов этого типа;
- стоимость бургера подсчитывается динамически и корректно в зависимости от тех ингредиентов, которые находятся в конструкторе;
- оформить заказ могут только авторизованные пользователи. При нажатии неавторизированным пользователем кнопки «Оформить заказ» его перенаправляет на страницу входа;
- при нажатии на кнопку «Оформить заказ» отправляется запрос к Api. В теле запроса передаётся массив из _id ингредиентов, а в заголовках токен авторизованного пользователя;
- при успешном запросе оформления заказа отображается модальное окно с данными заказа;
- после успешного оформления заказа конструктор бургера очищается от ранее добавленных ингредиентов;

Страница ленты заказов:
- на странице отображается список заказов полученный с сервера;
- при нажатии кнопки «Обновить» список заказов повторно запрашивается с сервера и данные обновляются на странице;
- при клике на заказ открывается модальное окно с детальным его описанием;

Страница данных профиля и истории пользователя:
- при переходе на страницу данных профиля отображаются имя и e-mail пользователя;
- кнопки “Отмена” и “Сохранить” скрыты если пользователь не изменил данные;
- при нажатии кнопки “Сохранить” на сервер отправляется запрос сохранения новых данных пользователя; После успешного выполнения запроса кнопки скрываются;
- при нажатии кнопки «Отмена» значения полей формы возвращаются в состояние до редактирования, а кнопки «Отмена» и «Сохранить» скрываются;
- на странице истории заказов отображается список заказов пользователя;
- при клике на заказ открывается модальное окно с детальным описанием заказа;
- при клике на кнопку «Выход» отправляется запрос выхода. При его успешном выполнении удаляются токены авторизации и данные пользователя из приложения, и пользователя перенаправляет на страницу входа;

Страницы регистрации, авторизации и восстановления пароля:
- при отправке формы регистрации, авторизации и форм восстановления пароля производится отправка на сервер соответствующего запроса;
- при успешном выполнении запроса регистрации или авторизации пользователя перенаправляет на страницу конструктора бургера и в шапке сайта отображается имя пользователя;
- при успешном выполнении запроса восстановления пароля пользователя перенаправляет на страницу ввода нового пароля и кода подтверждения;
- при успешном выполнении запроса задания нового пароля пользователя перенаправляет на страницу входа;
